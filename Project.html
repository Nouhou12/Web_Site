<!DOCTYPE html>
<html lang="""en
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Z-0101 is a website for showcasing projects.">
    <meta name="keywords" content="Projet Display">
    <meta name="author" content="Nouhou Issoufou">
    <link rel="canonical" href="https://nouhou12.github.io/Z-0101/Project.html" />
    <title>Website Template</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Retrieve the number from localStorage
        const myNumber = localStorage.getItem('myNumber');
        // When the DOM is loaded, display the number in the main section
        document.addEventListener('DOMContentLoaded', function() {
            const main = document.querySelector('header');
            const numberPara = document.createElement('h2');
            numberPara.textContent = 'Token: ' + myNumber;
            main.appendChild(numberPara);
        });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const main = document.querySelector('main');
        const sheetId = "1m1At1nq4GiobfB5D-l0ilSxWHw4f2KjPmzX35uFpJvU";
        const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv`;

        fetch(url)
            .then(response => {
                if (!response.ok) throw new Error("Erreur r√©seau : " + response.status);
                return response.text();
            })
            .then(csv => {
                console.log("Donn√©es CSV :", csv);
                const lignes = csv.trim().split('\n');

                lignes.forEach((ligne, index) => {
                    if (index === 0) return; // Ignorer l'en-t√™te √©ventuel
                    let colonnes = ligne.split(',');

                    const nettoy√© = colonnes.map(val => val.replace(/^"|"$/g, '').trim());
                    colonnes = nettoy√©;

                    const block = document.createElement('div');
                    block.classList.add('data-block');

                    const nom = document.createElement('strong');
                    nom.textContent = colonnes[2] || 'Nom inconnu';

                    const description = document.createElement('span');
                    description.textContent = ` ‚Äî ${colonnes[3] || 'Description'}`;

                    const auteur = document.createElement('em');
                    auteur.textContent = ` ‚Äî ${colonnes[4] || 'Auteur inconnu'}`;

                    const lien = document.createElement('a');
                    lien.textContent = ' üîó Lien';
                    lien.href = colonnes[6] || '#';
                    lien.target = '_blank';
                    lien.rel = 'noopener noreferrer';

                    block.appendChild(nom);
                    block.appendChild(description);
                    block.appendChild(auteur);
                    block.appendChild(document.createTextNode(' ‚Äî '));
                    block.appendChild(lien);

                    main.appendChild(block);
                    console.log("Bloc ajout√© :", block.textContent);
                });
            })
            .catch(error => {
                console.error('Erreur :', error);
                const errorMsg = document.createElement('p');
                errorMsg.textContent = "Impossible de charger les donn√©es.";
                main.appendChild(errorMsg);
            });
    });
    </script>
</head>
<body>
    <header>
        <h1>My Website</h1>
    </header>
    <nav>
        <a href="index.html">Home</a>
        <a href="FeaturedProject.html">Featured Project</a>
        <a href="Project.html">Project</a>
        <a href="Submit.html">Submit your own project</a>
        <a href="Reward.html">Reward Page</a>
        <a href="Contact.html">Contact</a>
    </nav>
    <main>
        <h2>Welcome!</h2>
        <p>This is a project page.</p>
    </main>
    <footer>
        &copy; 2024 My Website
    </footer>
</body>
</html>